<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">

  <head>
  	<title>Organic Helper</title>
    <meta charset="utf-8">
    <link type="text/css" rel="stylesheet" href="lib/bootstrap-3.3.6-dist/css/bootstrap-theme.css"></link>
    <link type="text/css" rel="stylesheet" href="lib/bootstrap-3.3.6-dist/css/bootstrap.css"></link>
    <link type="text/css" rel="stylesheet" href="css/default.css"></link>

  	<!-- Google Font -->
  	<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Raleway">
    <!-- Custom styles for this template -->
    <link type="text/css" rel="stylesheet" href="css/navbar-fixed-top.css" >

    <script src="//d3js.org/d3.v3.min.js"></script>
  </head>
  <style>


  .link line {
    stroke: #696969;
  }

  .link line.separator {
    stroke: #fff;
    stroke-width: 2px;
  }

  .node circle {
    stroke: #000;
    stroke-width: 1.5px;
  }

  .node text {
    font: 10px sans-serif;
    pointer-events: none;
  }


  </style>
  <body>

    <!-- Fixed navbar -->
      <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">Project name</a>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              <li class="active"><a href="#">Home</a></li>
              <li><a href="#about">About</a></li>
              <li><a href="#contact">Contact</a></li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Dropdown <span class="caret"></span></a>
                <ul class="dropdown-menu">
                  <li><a href="#">Action</a></li>
                  <li><a href="#">Another action</a></li>
                  <li><a href="#">Something else here</a></li>
                  <li role="separator" class="divider"></li>
                  <li class="dropdown-header">Nav header</li>
                  <li><a href="#">Separated link</a></li>
                  <li><a href="#">One more separated link</a></li>
                </ul>
              </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="../navbar/">Default</a></li>
              <li><a href="../navbar-static-top/">Static top</a></li>
              <li class="active"><a href="./">Fixed top <span class="sr-only">(current)</span></a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </nav>

      <div class="container">

        <!-- Main component for a primary marketing message or call to action -->
        <div class="jumbotron">
          <h2>Organic Chemistry is hard!</h2>
          <h4>At least, it can be.</h4>
          <h4>The goal of this app is to teach, which might make it easier to do organic chemistry. Enjoy the reference for intro orgo classes, science experiments, and general sciencing!</h4> 
          <hr></hr>
          <p>
            <a class="btn btn-lg btn-primary" href="../../components/#navbar" role="button">View navbar docs &raquo;</a>
          </p>
          <br></br>
          <h6>Inspired by Mike Bostock's concept found <a href="http://bl.ocks.org/mbostock/3037015"> here</a> and also below.</h6>
        </div>

        <div class="bostockExample well" style="text-align: center;"></div>

      </div> <!-- /container -->

  </body>

  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
  <script src="./lib/bootstrap-3.3.6-dist/js/bootstrap.min.js"></script>

  <script>

    var width = 460,
        height = 500;

    var color = d3.scale.category20();

    var radius = d3.scale.sqrt()
        .range([0, 6]);

    var svg = d3.select(".bostockExample").append("svg")
        .attr("width", width)
        .attr("height", height);

    var force = d3.layout.force()
        .size([width, height])
        .charge(-400)
        .linkDistance(function(d) { return radius(d.source.size) + radius(d.target.size) + 20; });

    d3.json("./json/graph.json", function(error, graph) {
      if (error) throw error;

      force
          .nodes(graph.nodes)
          .links(graph.links)
          .on("tick", tick)
          .start();

      var link = svg.selectAll(".link")
          .data(graph.links)
        .enter().append("g")
          .attr("class", "link");

      link.append("line")
          .style("stroke-width", function(d) { return (d.bond * 2 - 1) * 2 + "px"; });

      link.filter(function(d) { return d.bond > 1; }).append("line")
          .attr("class", "separator");

      var node = svg.selectAll(".node")
          .data(graph.nodes)
        .enter().append("g")
          .attr("class", "node")
          .call(force.drag);

      node.append("circle")
          .attr("r", function(d) { return radius(d.size); })
          .style("fill", function(d) { return color(d.atom); });

      node.append("text")
          .attr("dy", ".35em")
          .attr("text-anchor", "middle")
          .text(function(d) { return d.atom; });

      function tick() {
        link.selectAll("line")
            .attr("x1", function(d) { return d.source.x; })
            .attr("y1", function(d) { return d.source.y; })
            .attr("x2", function(d) { return d.target.x; })
            .attr("y2", function(d) { return d.target.y; });

        node.attr("transform", function(d) { return "translate(" + d.x + "," + d.y + ")"; });
      }
    });
  </script>
</html>
